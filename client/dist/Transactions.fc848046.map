{"version":3,"sources":["components\\Transactions.js"],"names":["Transactions","api","css","className","emoCSS","TransactionsContext","React","createContext","toggleDetails","expanded","state","concat","includes","id","filter","item","push","setState","resetExpanded","initialState","timeOut","toggleCurrency","displaySatoshi","Component","fetchUSD","usd","then","setTimeout","props","children","Consumer","TxWrapper","Currency","CurrencySwitch","CurrencySelection","CurrencyDisplay"],"mappings":"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","file":"Transactions.fc848046.map","sourceRoot":"..\\src","sourcesContent":["import React from \"react\";\r\nimport styled, { css as emoCSS } from \"react-emotion\";\r\nimport * as api from \"../utils/api\";\r\n\r\nconst css = (...args) => ({ className: emoCSS(...args) });\r\n\r\nconst TransactionsContext = React.createContext({\r\n  displaySatoshi: false,\r\n  usd: null,\r\n  expanded: [],\r\n  toggleDetails: () => {},\r\n  resetExpanded: () => {}\r\n});\r\n\r\nclass Transactions extends React.Component {\r\n  static Consumer = TransactionsContext.Consumer;\r\n\r\n  toggleDetails = id => {\r\n    let expanded = this.state.expanded.concat();\r\n    if (expanded.includes(id)) expanded = expanded.filter(item => item !== id);\r\n    else expanded.push(id);\r\n    this.setState({ expanded });\r\n  };\r\n  resetExpanded = () => {\r\n    this.setState({ expanded: [] });\r\n  };\r\n\r\n  initialState = {\r\n    displaySatoshi: false,\r\n    usd: null,\r\n    expanded: [],\r\n    toggleDetails: this.toggleDetails,\r\n    resetExpanded: this.resetExpanded\r\n  };\r\n  state = this.initialState;\r\n\r\n  timeOut = null;\r\n\r\n  componentDidMount() {\r\n    this.fetchUSD();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timeOut);\r\n  }\r\n\r\n  toggleCurrency = () => {\r\n    this.setState({ displaySatoshi: !this.state.displaySatoshi });\r\n  };\r\n  fetchUSD() {\r\n    api.usd().then(usd => {\r\n      this.setState({ usd });\r\n    });\r\n\r\n    this.timeOut = setTimeout(() => {\r\n      this.fetchUSD();\r\n    }, 10000);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TransactionsContext.Provider value={this.state}>\r\n        <TxWrapper>\r\n          <CurrencyDisplay\r\n            displaySatoshi={this.state.displaySatoshi}\r\n            toggleCurrency={this.toggleCurrency}\r\n          />\r\n          {this.props.children}\r\n        </TxWrapper>\r\n      </TransactionsContext.Provider>\r\n    );\r\n  }\r\n}\r\nconst TxWrapper = styled(\"div\")({\r\n  padding: \"20px\"\r\n});\r\n\r\nconst Currency = styled(\"div\")({\r\n  height: \"42px\",\r\n  paddingTop: \"5px\",\r\n  fontSize: \"12px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\"\r\n});\r\n\r\nconst CurrencySwitch = styled(\"div\")({\r\n  width: \"40px\",\r\n  height: \"20px\",\r\n  margin: \"0px 10px\",\r\n  backgroundColor: \"black\",\r\n  cursor: \"pointer\"\r\n});\r\n\r\nfunction CurrencySelection(props) {\r\n  return (\r\n    <div\r\n      data-testid=\"currency_selection\"\r\n      {...css({\r\n        height: \"100%\",\r\n        width: \"25px\",\r\n        backgroundColor: \"var(--green)\",\r\n        border: \"2px solid black\",\r\n        float: props.displaySatoshi ? \"left\" : \"right\"\r\n      })}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CurrencyDisplay({ displaySatoshi, toggleCurrency }) {\r\n  return (\r\n    <Currency>\r\n      <div>Satoshi</div>\r\n      <CurrencySwitch onClick={toggleCurrency}>\r\n        <CurrencySelection displaySatoshi={displaySatoshi} />\r\n      </CurrencySwitch>\r\n      <div>USD</div>\r\n    </Currency>\r\n  );\r\n}\r\n\r\nexport default Transactions;\r\n"]}