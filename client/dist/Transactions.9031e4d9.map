{"version":3,"sources":["components\\Transactions.js"],"names":["api","css","className","emoCSS","TransactionsContext","React","createContext","displaySatoshi","usd","expanded","toggleDetails","resetExpanded","Transactions","state","concat","includes","id","filter","item","push","setState","initialState","timeOut","toggleCurrency","fetchUSD","clearTimeout","then","setTimeout","props","children","Component","Consumer","TxWrapper","padding","Currency","height","paddingTop","fontSize","display","alignItems","CurrencySwitch","width","margin","backgroundColor","cursor","CurrencySelection","border","float","CurrencyDisplay"],"mappings":"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","file":"Transactions.9031e4d9.map","sourceRoot":"..\\src","sourcesContent":["import React from \"react\";\r\nimport styled, { css as emoCSS } from \"react-emotion\";\r\nimport * as api from \"../utils/api\";\r\n\r\nconst css = (...args) => ({ className: emoCSS(...args) });\r\n\r\nconst TransactionsContext = React.createContext({\r\n  displaySatoshi: false,\r\n  usd: null,\r\n  expanded: [],\r\n  toggleDetails: () => {},\r\n  resetExpanded: () => {}\r\n});\r\n\r\nclass Transactions extends React.Component {\r\n  static Consumer = TransactionsContext.Consumer;\r\n\r\n  toggleDetails = id => {\r\n    let expanded = this.state.expanded.concat();\r\n    if (expanded.includes(id)) expanded = expanded.filter(item => item !== id);\r\n    else expanded.push(id);\r\n    this.setState({ expanded });\r\n  };\r\n  resetExpanded = () => {\r\n    this.setState({ expanded: [] });\r\n  };\r\n\r\n  initialState = {\r\n    displaySatoshi: false,\r\n    usd: null,\r\n    expanded: [],\r\n    toggleDetails: this.toggleDetails,\r\n    resetExpanded: this.resetExpanded\r\n  };\r\n  state = this.initialState;\r\n\r\n  timeOut = null;\r\n\r\n  componentDidMount() {\r\n    this.fetchUSD();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timeOut);\r\n  }\r\n\r\n  toggleCurrency = () => {\r\n    this.setState({ displaySatoshi: !this.state.displaySatoshi });\r\n  };\r\n  fetchUSD() {\r\n    api.usd().then(usd => {\r\n      this.setState({ usd });\r\n    });\r\n\r\n    this.timeOut = setTimeout(() => {\r\n      this.fetchUSD();\r\n    }, 10000);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TransactionsContext.Provider value={this.state}>\r\n        <TxWrapper>\r\n          <CurrencyDisplay\r\n            displaySatoshi={this.state.displaySatoshi}\r\n            toggleCurrency={this.toggleCurrency}\r\n          />\r\n          {this.props.children}\r\n        </TxWrapper>\r\n      </TransactionsContext.Provider>\r\n    );\r\n  }\r\n}\r\nconst TxWrapper = styled(\"div\")({\r\n  padding: \"20px\"\r\n});\r\n\r\nconst Currency = styled(\"div\")({\r\n  height: \"42px\",\r\n  paddingTop: \"5px\",\r\n  fontSize: \"12px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\"\r\n});\r\n\r\nconst CurrencySwitch = styled(\"div\")({\r\n  width: \"40px\",\r\n  height: \"20px\",\r\n  margin: \"0px 10px\",\r\n  backgroundColor: \"black\",\r\n  cursor: \"pointer\"\r\n});\r\n\r\nfunction CurrencySelection(props) {\r\n  return (\r\n    <div\r\n      data-testid=\"currency_selection\"\r\n      {...css({\r\n        height: \"100%\",\r\n        width: \"25px\",\r\n        backgroundColor: \"var(--green)\",\r\n        border: \"2px solid black\",\r\n        float: props.displaySatoshi ? \"left\" : \"right\"\r\n      })}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CurrencyDisplay({ displaySatoshi, toggleCurrency }) {\r\n  return (\r\n    <Currency>\r\n      <div>Satoshi</div>\r\n      <CurrencySwitch onClick={toggleCurrency}>\r\n        <CurrencySelection displaySatoshi={displaySatoshi} />\r\n      </CurrencySwitch>\r\n      <div>USD</div>\r\n    </Currency>\r\n  );\r\n}\r\n\r\nexport default Transactions;\r\n"]}